(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{263:function(e,t,n){e.exports=n(445)},268:function(e,t,n){},445:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(23),o=n.n(r),c=(n(268),n(30)),s=n(31),l=n(33),p=n(32),d=n(34),h=n(22),u=n(3),m=n.n(u),g=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("footer",{className:m()(e.footer)},i.a.createElement("small",null,"\xa9 Copyright 2019, StellaSoft"))}}]),t}(i.a.Component),f=Object(h.withStyles)(function(e){return{footer:{position:"fixed",left:0,bottom:0,width:"100%",backgroundColor:"white",color:"black",textAlign:"center"}}})(g),y=n(40),w=n(172),b=n(27),E=n(88),v=n.n(E),O=n(85),j=n.n(O),k=n(86),S=n.n(k),x=n(90),C=n.n(x),A=n(84),B=n.n(A),N=n(44),R=n.n(N),I=n(89),W=n.n(I),D=n(62),L=n.n(D),T=n(176),z=n.n(T),H=n(179),G=n.n(H),U=n(178),F=n.n(U),M=n(91),P=n.n(M),J=n(92),_=n.n(J),X=n(177),Z=n.n(X),$=n(87),q=n.n($),K=n(51),Q=n(81),V=n.n(Q),Y=n(83),ee=n.n(Y),te=n(82),ne=n.n(te),ae=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"getDesktopImage",value:function(e){var t=e.icon.toString();return t.startsWith("https")||3!==e.type?t:"./images/ubuntu_icon.png"}},{key:"getSrc",value:function(){var e=this.props.data;return 2===e.type?"http://".concat(e.src):e.src}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.classes;return i.a.createElement(V.a,{className:m()(n.card)},i.a.createElement(ne.a,null,i.a.createElement("a",{className:m()(n.link),href:this.getSrc(),target:"_blank",rel:"noopener noreferrer"},i.a.createElement(R.a,{className:m()(n.center,n.title),color:"textSecondary",gutterBottom:!0},t.name),i.a.createElement(ee.a,null,i.a.createElement("img",{className:m()(n.icon,n.center),src:this.getDesktopImage(t),alt:t.name})))))}}]),t}(a.Component),ie=Object(h.withStyles)(function(e){return{title:{textAlign:"center"},appItem:{width:128,display:"inline-block"},center:{marginLeft:"auto",marginRight:"auto",display:"block",textAlign:"center"},icon:{width:64},card:{width:128,height:128,display:"inline-block",margin:"1px"},link:{textDecoration:"none"}}})(ae),re=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.items,a=e.width;return i.a.createElement("div",{style:{width:a}},i.a.createElement("div",{className:t.listWrapper},n.map(function(e){return i.a.createElement(ie,{data:e})})))}}]),t}(i.a.Component),oe=Object(h.withStyles)(function(e){return{listWrapper:{overflow:"auto",whiteSpace:"nowrap",backgroundColor:e.palette.background.paper}}})(re),ce=n(180),se="http://linuxappstore.xyz",le=[{id:1,src:"./images/appimage.png",name:"AppImage"},{id:2,src:"./images/flatpak.png",name:"Flatpak"},{id:3,src:"./images/snap.png",name:"Snap"}],pe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={open:!1,apps:[],filteredApps:[],recentlyAdded:[],recentlyUpdated:[],search:"",appType:2,contentWidth:0,contentHeight:0},n.handleDrawerOpen=function(){n.setState({open:!0})},n.handleDrawerClose=function(){n.setState({open:!1})},n.onCategoryClick=function(e){n.setState({appType:e}),n.populateData(e)},n.onSearch=function(e){var t=n.state.apps.filter(function(t){return-1!==t.name.toLowerCase().indexOf(e.target.value.toLowerCase())});n.setState({search:e.target.value,filteredApps:t})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"populateData",value:function(e){var t=this,n="".concat(se,"/api/recentlyAdded?type=").concat(e,"&limit=25"),a="".concat(se,"/api/recentlyUpdated?type=").concat(e,"&limit=25"),i="".concat(se,"/api/apps?type=").concat(e);fetch(n).then(function(e){return e.json()}).then(function(e){t.setState({recentlyAdded:e})}),fetch(a).then(function(e){return e.json()}).then(function(e){t.setState({recentlyUpdated:e})}),fetch(i).then(function(e){return e.json()}).then(function(e){t.setState({apps:e,filteredApps:[],search:""})})}},{key:"componentDidMount",value:function(){var e=this.contentElement.clientWidth,t=this.contentElement.clientHeight;this.setState({contentWidth:e,contentHeight:t});var n=this.recentlyAddedElement.clientHeight;console.log("content width: ".concat(e," height: ").concat(t," recentlyAddedHeight: ").concat(n)),0===this.state.apps.length&&this.populateData(this.state.appType)}},{key:"render",value:function(){var e,t,n=this,a=this.props,r=a.classes,o=a.theme,c=0===this.state.filteredApps.length?this.state.apps:this.state.filteredApps;return i.a.createElement("div",{className:r.root},i.a.createElement(B.a,null),i.a.createElement(j.a,{position:"fixed",className:m()(r.appBar,Object(b.a)({},r.appBarShift,this.state.open)),ref:function(e){return n.appBarElement=e}},i.a.createElement(S.a,{disableGutters:!this.state.open},i.a.createElement(L.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerOpen,className:m()(r.menuButton,Object(b.a)({},r.hide,this.state.open))},i.a.createElement(z.a,null)),i.a.createElement(R.a,{variant:"h6",color:"inherit",noWrap:!0},"App Store"),i.a.createElement("div",{className:r.search},i.a.createElement("div",{className:r.searchIcon},i.a.createElement(Z.a,null)),i.a.createElement(q.a,{placeholder:"Search\u2026",classes:{root:r.inputRoot,input:r.inputInput},onChange:this.onSearch,autoFocus:!0})))),i.a.createElement(v.a,{variant:"permanent",className:m()(r.drawer,(e={},Object(b.a)(e,r.drawerOpen,this.state.open),Object(b.a)(e,r.drawerClose,!this.state.open),e)),classes:{paper:m()((t={},Object(b.a)(t,r.drawerOpen,this.state.open),Object(b.a)(t,r.drawerClose,!this.state.open),t))},open:this.state.open},i.a.createElement("div",{className:r.toolbar},i.a.createElement(L.a,{onClick:this.handleDrawerClose},"rtl"===o.direction?i.a.createElement(F.a,null):i.a.createElement(G.a,null))),i.a.createElement(W.a,null),i.a.createElement(C.a,null,le.map(function(e){return i.a.createElement(P.a,{button:!0,key:e.name,onClick:function(){return n.onCategoryClick(e.id)}},i.a.createElement("img",{className:"icon",src:e.src,alt:e.name,style:{width:24,marginRight:15}}),i.a.createElement(_.a,{primary:e.name}))}))),i.a.createElement("main",{className:r.content,style:{height:"100%"},ref:function(e){return n.contentElement=e}},i.a.createElement(y.b,{container:!0,spacing:24},i.a.createElement(y.b,{item:!0,xs:12,style:{paddingBottom:5},ref:function(e){return n.recentlyAddedElement=e}},i.a.createElement("h3",{style:{marginTop:0,marginBottom:5}},"Recently Added"),i.a.createElement(oe,{items:this.state.recentlyAdded,width:this.state.contentWidth-25})),i.a.createElement(y.b,{item:!0,xs:12,style:{paddingBottom:5}},i.a.createElement("h3",{style:{marginTop:0,marginBottom:5}},"Recently Updated"),i.a.createElement(oe,{items:this.state.recentlyUpdated,width:this.state.contentWidth-25})),i.a.createElement(y.b,{item:!0,xs:12,style:{paddingBottom:5,marginRight:5}},i.a.createElement("h3",{style:{marginTop:0,marginBottom:5}},le[this.state.appType-1].name,"'s"),i.a.createElement(ce.a,{cellCount:c.length,cellRenderer:this.cellRenderer.bind(this),cellSizeAndPositionGetter:this.cellSizeAndPositionGetter.bind(this),height:this.state.contentHeight-416-69-21+5,width:this.state.contentWidth-25})))))}},{key:"cellRenderer",value:function(e){var t=e.index,n=e.key,a=e.style,r=0===this.state.filteredApps.length?this.state.apps:this.state.filteredApps;return i.a.createElement("div",{key:n,style:a},i.a.createElement(ie,{data:r[t],style:{margin:1}}))}},{key:"cellSizeAndPositionGetter",value:function(e){var t=e.index,n=this.state.contentWidth,a=Math.floor(n/129);return{height:129,width:129,x:129*(t%a),y:129*Math.floor(t/a)}}}]),t}(i.a.Component),de=Object(h.withStyles)(function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},search:Object(b.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(K.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(K.fade)(e.palette.common.white,.25)},marginRight:2*e.spacing.unit,marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:3*e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},menuButton:{marginLeft:12,marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerIcon:{width:24},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(b.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:7*e.spacing.unit+1},e.breakpoints.up("sm"),{width:9*e.spacing.unit+1}),toolbar:Object(w.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),content:{flexGrow:1,paddingLeft:5,paddingTop:69},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(b.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),gridList:{flexWrap:"nowrap",transform:"translateZ(0)"}}},{withTheme:!0})(pe),he=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(y.a,null),i.a.createElement(de,null),i.a.createElement(f,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(he,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[263,1,2]]]);
//# sourceMappingURL=main.b87e0dfc.chunk.js.map